<html>
<head>
	<title>贺刘芳的搬砖日记-文章页</title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../../../../layui/css/layui.css"/>
	<link rel="stylesheet" href="../../../../../css/common.css"/>
	<link rel="stylesheet" href="../../../../../css/post.css"/>
	<link rel="stylesheet" href="../../../../../lib/google-code-prettify/skins/desert.css"/>
<meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="atom.xml" title="贺刘芳的搬砖日记" type="application/atom+xml">
</head>
<body>
	<!-- 导航模板 -->
	<!-- 导航 -->
<div class="qy-nav">
  <ul class="layui-nav" lay-filter="" lay-bar="disabled" lay-unselect>
    <li class="layui-nav-item">贺刘芳的搬砖日记</li>
    <li class="hide-xs layui-nav-item "><a href="/"><i class="layui-icon layui-icon-chart-screen"></i> 首页</a></li>
    <li class="hide-xs layui-nav-item "><a href="/about"><i class="layui-icon layui-icon-friends"></i> 关于</a></li>
    <li class="hide-xs layui-nav-item " id="searchBtn"><a href="javascript:void(0);"><i
          class="layui-icon layui-icon-search"></i> 搜索</a></li>
    <li id="mobileMenu" style="float: right" class="hide-sm hide-md hide-lg layui-nav-item ">
      <a href="javascript:void(0);"><i class="layui-icon layui-icon-down"></i> 菜单</a>
    </li>
  </ul>
</div>
<!-- 搜索弹框 -->
<div id="searchShade" class="searchShade">
  <div id="searchLayer">
    <div id="closeBtn" class="close"><i class="layui-icon layui-icon-close"></i></div>
    <input id="searchTxt" type="text" placeholder="搜索文章(只支持文章标题关键字)" />
    <div id="searchResult">
      <!-- <ul>
        <li>java笔记
        <li>
      </ul> -->
    </div>

  </div>
</div>
<script>
  window.onload = function () {
    //下拉菜单
    layui.use('dropdown', function () {
      var dropdown = layui.dropdown
      dropdown.render({
        elem: '#mobileMenu', //可绑定在任意元素中，此处以上述按钮为例
        data: [
          {
            title: '首页'
            , id: 11
            , href: '/'
            // , templet: '<i class="layui-icon layui-icon-chart-screen"></i>  {{d.title}}'
          },
          {
            title: '关于'
            , id: 22
            , href: '/about'
            // , templet: '<i class="layui-icon layui-icon-chart-friends"></i>  {{d.title}}'
          },
          {
            title: '搜索'
            , id: 33
            , href: '#'
            // , templet: '<i class="layui-icon layui-icon-chart-search"></i>  {{d.title}}'
          }
        ],
        click: function (data, othis) {
          var elem = $(this.elem)
            , listId = elem.data('id'); //表格列表的预埋数据
            if(data.id == 33){
              $("#searchShade").show()
            }
        }
      })

    })

    //点击搜索
    $("#searchBtn").click(function () {
      $("#searchShade").show()
    })

    //关闭弹框
    $("#closeBtn").click(function () {
      $("#searchShade").hide()
    })

    //搜索本地文章标题 https://cloud.tencent.com/developer/article/1624646
    var searchFunc = function (path, search_id, content_id) {
      $.ajax({
        url: path,
        dataType: "json",
        success: function (datas) {
          // console.log('datas :>> ', datas);
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function () {
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var data_title = data.title.trim().toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var first_occur = -1;
              if (data_title != '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  if (index_title < 0) {
                    isMatch = false;
                  }
                });
              }
              // show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                str += "</li>";
              }
            });
            str += "</ul>";
            $resultContent.innerHTML = str;
          });
        }
      });
    }
    searchFunc("/" + "search.json", 'searchTxt', 'searchResult');

  }


</script>
	<!-- 中间内容区域 -->
	<div class="layui-container  center" id="top">
		<div class="layui-row layui-col-space20">
			<div class="layui-col-md3 hide-xs hide-sm" >
				<div class="layui-card">
					<div class="layui-card-header"><i style="font-weight: bold;"
							class="layui-icon layui-icon-speaker"></i> 公告</div>
					<div class="layui-card-body">
						<!-- 个人信息模块 -->
						<div class="userinfo">
							<img src="/head.png">
							<div class="name">淡泊明志，宁静致远</div>
							<div class="other">
								<div class="item">
									<p class="num">
										39
									</p>
									<p class="title">文章</p>
								</div>
								<div class="item">
									<p class="num">
										8
									</p>
									<p class="title">分类</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- 分类 -->
				<div class="layui-card">
					<div class="layui-card-header"><i class="layui-icon layui-icon-template-1"></i> 分类</div>
					<div class="layui-card-body">
						<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/java/">java</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/linux/">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/vue/">vue</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/web%E5%89%8D%E7%AB%AF/">web前端</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%92%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F/">公众号和小程序</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/%E5%85%B6%E5%AE%83%E6%8A%80%E6%9C%AF/">其它技术</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">2</span></li></ul>
					</div>
				</div>
				<!-- 归档 -->
				<div class="layui-card">
					<div class="layui-card-header"><i style="font-weight: bold;"
							class="layui-icon layui-icon-date"></i> 归档</div>
					<div class="layui-card-body">
						<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/12/">2022 十二月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/10/">2022 十月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/07/">2022 七月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/06/">2022 六月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/03/">2022 三月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/08/">2021 八月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/07/">2021 七月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/05/">2021 五月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/01/">2021 一月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2020/12/">2020 十二月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2020/11/">2020 十一月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2020/08/">2020 八月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2020/06/">2020 六月</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2019/10/">2019 十月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2019/07/">2019 七月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2018/12/">2018 十二月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2018/10/">2018 十月</a><span class="archive-list-count">1</span></li></ul>
					</div>
				</div>
				
				<div style="height: 90%;width: 267px;" id="toc-area"  class="layui-card">
				  <div class="layui-card-header">本文目录</div>
				  <div class="layui-card-body" style="overflow:auto;height: calc(100% - 60px - 50px);">
				   <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-text">1 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%8E%AF%E5%A2%83"><span class="toc-text">2 环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-node%E5%AE%89%E8%A3%85"><span class="toc-text">2.1 node安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-git%E5%AE%89%E8%A3%85"><span class="toc-text">2.2 git安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Hexo%E5%AE%89%E8%A3%85"><span class="toc-text">2.3 Hexo安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%B5%8B%E8%AF%95"><span class="toc-text">2.3.1 测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Hexo%E9%85%8D%E7%BD%AE"><span class="toc-text">3 Hexo配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%BD%91%E7%AB%99%E9%85%8D%E7%BD%AE"><span class="toc-text">3.1 网站配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="toc-text">3.2 主题配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%86%99%E4%BD%9C%E5%9B%BE%E7%89%87%E9%85%8D%E7%BD%AE"><span class="toc-text">3.3 写作图片配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-git%E9%85%8D%E7%BD%AE%E5%92%8C%E6%8E%A8%E9%80%81"><span class="toc-text">4 git配置和推送</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="toc-text">5 主题配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%86%99%E4%BD%9C"><span class="toc-text">6 写作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-text">7 参考文献</span></a></li></ol>
				  </div>
				  <div class="readprocess">
					  <div>已阅读：<span id="progressTxt"></span>%</div>
					  <div class="layui-progress" lay-filter="demo">
						<div class="layui-progress-bar" lay-percent="10%"></div>
					  </div>
				  </div>
				</div>
				
			</div>
			<div class="layui-col-md9 markdown-body" style="background:#fff;margin-top: 10px;">
				
				<div class="article-title">
					<h1>利用Hexo+gitee搭建个人博客</h1>
					<p>
						<i class="layui-icon layui-icon-time"></i>发表于：2020-12-24
						|
						<i class="layui-icon layui-icon-form"></i>字数统计：1.8k
					</p>
				</div>
				
					
				<!-- 文章内容 -->
				<div id="article">
				    <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>本文将介绍利用Hexo+gitee搭建个人博客。</p>
<p>原理是将markdown文件生成静态页面,发布到gitee上,利用git page服务提供静态页面访问。</p>
<p>这样的话不需要花费一分钱即可搭建一个自己的博客。</p>
<p>我是博客地址：<a href="https://heliufang.gitee.io/">https://heliufang.gitee.io</a></p>
<h2 id="2-环境"><a href="#2-环境" class="headerlink" title="2 环境"></a>2 环境</h2><p>node.js:因为Hexo是基于node的</p>
<p>git：主要用来推送静态页面</p>
<p>Hexo：将markdown文件转化成静态页面</p>
<h3 id="2-1-node安装"><a href="#2-1-node安装" class="headerlink" title="2.1 node安装"></a>2.1 node安装</h3><p>略。网上有很多，安装也很简单</p>
<p>可以参考菜鸟教程:<a target="_blank" rel="noopener" href="https://www.runoob.com/nodejs/nodejs-install-setup.html">https://www.runoob.com/nodejs/nodejs-install-setup.html</a></p>
<h3 id="2-2-git安装"><a href="#2-2-git安装" class="headerlink" title="2.2 git安装"></a>2.2 git安装</h3><p>略。win、mac各个平台有不同的软件，我是win平台所以用的是Git-2.13.0-64-bit.exe</p>
<p>参考菜鸟教程：<a target="_blank" rel="noopener" href="https://www.runoob.com/git/git-install-setup.html">https://www.runoob.com/git/git-install-setup.html</a></p>
<h3 id="2-3-Hexo安装"><a href="#2-3-Hexo安装" class="headerlink" title="2.3 Hexo安装"></a>2.3 Hexo安装</h3><ul>
<li>全局安装Hexo</li>
</ul>
<pre><code class="hljs js">npm install  hexo-cli -g</code></pre>

<ul>
<li><p>在win磁盘上建立一个文件夹,并进入这个文件夹，在这个文件夹中右键-git bash here，调出git窗口</p>
</li>
<li><p>在黑窗口中运行命令,等待hexo初始化完成</p>
</li>
</ul>
<pre><code class="hljs js">hexo init</code></pre>

<ul>
<li>初始化完成后下载依赖</li>
</ul>
<pre><code class="hljs plaintext">npm install
npm install --save hexo-renderer-pug</code></pre>

<h4 id="2-3-1-测试"><a href="#2-3-1-测试" class="headerlink" title="2.3.1 测试"></a>2.3.1 测试</h4><ul>
<li>清除生成的静态文件,以后每次发布博客都要执行此操作</li>
</ul>
<pre><code class="hljs plaintext">hexo clean</code></pre>

<ul>
<li>重新生成静态文件</li>
</ul>
<pre><code class="hljs plaintext">hexo g</code></pre>

<ul>
<li>启动hexo服务,这样在浏览器中访问localhost:4000就可以看到默认的博客了</li>
</ul>
<pre><code class="hljs plaintext">hexo s</code></pre>

<p>说明：hexo安装完成后默认会在 \source_posts\中生成hello-world.md文章,启动后默认就是看到这个。</p>
<h2 id="3-Hexo配置"><a href="#3-Hexo配置" class="headerlink" title="3 Hexo配置"></a>3 Hexo配置</h2><p>根目录下的<code>_config.yml</code>为全局配置文件，相关的配置可以参考官网：</p>
<h3 id="3-1-网站配置"><a href="#3-1-网站配置" class="headerlink" title="3.1 网站配置"></a>3.1 网站配置</h3><pre><code class="hljs yml"><span class="hljs-attr">title:</span> <span class="hljs-string">贺刘芳的网络日志</span> <span class="hljs-comment">#网站大标题</span>
<span class="hljs-attr">subtitle:</span> <span class="hljs-string">&#x27;每天多学一点知识,就少写一行代码&#x27;</span> <span class="hljs-comment">#网站子标题</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">&#x27;贺刘芳的网络日志&#x27;</span>    <span class="hljs-comment">#这个是seo搜索引擎用的,很重要</span>
<span class="hljs-attr">keywords:</span>
<span class="hljs-attr">author:</span> <span class="hljs-string">贺刘芳</span>
<span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>   <span class="hljs-comment">#网站语言 zh-CN为中文</span>
<span class="hljs-attr">timezone:</span> <span class="hljs-string">&#x27;&#x27;</span></code></pre>

<h3 id="3-2-主题配置"><a href="#3-2-主题配置" class="headerlink" title="3.2 主题配置"></a>3.2 主题配置</h3><pre><code class="hljs yml"><span class="hljs-comment">#theme: landscape #默认是 landscape 主题，个人觉得不好看</span>
<span class="hljs-attr">theme:</span> <span class="hljs-string">hexo-theme-stun</span> <span class="hljs-comment">#我使用的是stun这个主题</span></code></pre>

<p>注意：这里这个名字如：<code>hexo-theme-stun</code>  要和<code>/themes/</code>下的主题文件夹的名称对应</p>
<p><img src="/2020/12/24/1426392655495041024/images/image-20201224201840273.png"></p>
<h3 id="3-3-写作图片配置"><a href="#3-3-写作图片配置" class="headerlink" title="3.3 写作图片配置"></a>3.3 写作图片配置</h3><ul>
<li>安装图片插件</li>
</ul>
<pre><code class="hljs plaintext">npm install hexo-asset-image --save</code></pre>

<ul>
<li>修改<code>_config.yml</code></li>
</ul>
<pre><code class="hljs yml"><span class="hljs-attr">post_asset_folder:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 将这个改为true默认是false</span>
<span class="hljs-attr">relative_link:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 将这个改为true默认是false</span></code></pre>

<ul>
<li>打开<code>/node_modules/hexo-asset-image/index.js</code> 修改内容如下</li>
</ul>
<pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;
<span class="hljs-keyword">var</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;cheerio&#x27;</span>);

<span class="hljs-comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getPosition</span>(<span class="hljs-params">str, m, i</span>) &#123;
  <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">split</span>(m, i).<span class="hljs-title function_">join</span>(m).<span class="hljs-property">length</span>;
&#125;

<span class="hljs-keyword">var</span> version = <span class="hljs-title class_">String</span>(hexo.<span class="hljs-property">version</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;after_post_render&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;
  <span class="hljs-keyword">var</span> config = hexo.<span class="hljs-property">config</span>;
  <span class="hljs-keyword">if</span>(config.<span class="hljs-property">post_asset_folder</span>)&#123;
        <span class="hljs-keyword">var</span> link = data.<span class="hljs-property">permalink</span>;
    <span class="hljs-keyword">if</span>(version.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title class_">Number</span>(version[<span class="hljs-number">0</span>]) == <span class="hljs-number">3</span>)
       <span class="hljs-keyword">var</span> beginPos = <span class="hljs-title function_">getPosition</span>(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span>
       <span class="hljs-keyword">var</span> beginPos = <span class="hljs-title function_">getPosition</span>(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-comment">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span>
    <span class="hljs-keyword">var</span> endPos = link.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">&#x27;/&#x27;</span>) + <span class="hljs-number">1</span>;
    link = link.<span class="hljs-title function_">substring</span>(beginPos, endPos);

    <span class="hljs-keyword">var</span> toprocess = [<span class="hljs-string">&#x27;excerpt&#x27;</span>, <span class="hljs-string">&#x27;more&#x27;</span>, <span class="hljs-string">&#x27;content&#x27;</span>];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; toprocess.<span class="hljs-property">length</span>; i++)&#123;
      <span class="hljs-keyword">var</span> key = toprocess[i];
 
      <span class="hljs-keyword">var</span> $ = cheerio.<span class="hljs-title function_">load</span>(data[key], &#123;
        <span class="hljs-attr">ignoreWhitespace</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">xmlMode</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">lowerCaseTags</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">decodeEntities</span>: <span class="hljs-literal">false</span>
      &#125;);

      $(<span class="hljs-string">&#x27;img&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;
        <span class="hljs-keyword">if</span> ($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>))&#123;
            <span class="hljs-comment">// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span>
            <span class="hljs-keyword">var</span> src = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;\\&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>);
            <span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/http[s]*.*|\/\/.*/</span>.<span class="hljs-title function_">test</span>(src) &amp;&amp;
               !<span class="hljs-regexp">/^\s*\//</span>.<span class="hljs-title function_">test</span>(src)) &#123;
              <span class="hljs-comment">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span>
              <span class="hljs-comment">// In addition, to support multi-level local directory.</span>
              <span class="hljs-keyword">var</span> linkArray = link.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)&#123;
                <span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span>;
              &#125;);
              <span class="hljs-keyword">var</span> srcArray = src.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)&#123;
                <span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; elem != <span class="hljs-string">&#x27;.&#x27;</span>;
              &#125;);
              <span class="hljs-keyword">if</span>(srcArray.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>)
                srcArray.<span class="hljs-title function_">shift</span>();
              src = srcArray.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;/&#x27;</span>);
              $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>, config.<span class="hljs-property">root</span> + link + src);
              <span class="hljs-variable language_">console</span>.<span class="hljs-property">info</span>&amp;&amp;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">&quot;update link as:--&gt;&quot;</span>+config.<span class="hljs-property">root</span> + link + src);
            &#125;
        &#125;<span class="hljs-keyword">else</span>&#123;
            <span class="hljs-variable language_">console</span>.<span class="hljs-property">info</span>&amp;&amp;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">&quot;no src attr, skipped...&quot;</span>);
            <span class="hljs-variable language_">console</span>.<span class="hljs-property">info</span>&amp;&amp;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>($(<span class="hljs-variable language_">this</span>));
        &#125;
      &#125;);
      data[key] = $.<span class="hljs-title function_">html</span>();
    &#125;
  &#125;
&#125;);</code></pre>

<p>然后就可以插入图片了。</p>
<p>注意：博客文件也就是md文件放在<code>/source/_posts</code>下</p>
<pre><code class="hljs plaintext">md文件名要和图片文件夹的名称一样而且是同级。
md文件引用图片：如![](hello-world/1.png)</code></pre>

<p><img src="/2020/12/24/1426392655495041024/images/image-20201224195315188.png"></p>
<h2 id="4-git配置和推送"><a href="#4-git配置和推送" class="headerlink" title="4 git配置和推送"></a>4 git配置和推送</h2><ul>
<li><p>首先得申请gitee一个账号</p>
</li>
<li><p>然后新增一个空仓库heliufang,并把仓库的设为<code>公开</code></p>
</li>
<li><p>开启git page服务</p>
</li>
</ul>
<p><img src="/2020/12/24/1426392655495041024/images/image-20201224190704824.png"></p>
<ul>
<li>安装hexo安装git依赖,不按照此依赖hexo没法推送静态页面到gitee</li>
</ul>
<pre><code class="hljs plaintext">npm install hexo-deployer-git --save</code></pre>

<ul>
<li>修改根目录下的<code>_config.yml</code>全局配置文件中的<code>url</code></li>
</ul>
<pre><code class="hljs yml"><span class="hljs-comment"># URL</span>
<span class="hljs-comment">## If your site is put in a subdirectory, set url as &#x27;http://example.com/child&#x27; and root as &#x27;/child/&#x27;</span>
<span class="hljs-attr">url:</span>  <span class="hljs-string">https://heliufang.gitee.io</span> <span class="hljs-comment">#注意：这里为启动git page服务后分配的地址</span>
<span class="hljs-attr">root:</span> <span class="hljs-string">/</span>
<span class="hljs-attr">permalink:</span> <span class="hljs-string">:year/:month/:day/:title/</span></code></pre>

<ul>
<li>修改根目录下的<code>_config.yml</code>全局配置文件中的<code>deploy</code>,配置仓库地址和分支</li>
</ul>
<pre><code class="hljs yml"><span class="hljs-comment"># Deployment</span>
<span class="hljs-comment">## Docs: https://hexo.io/docs/one-command-deployment</span>
<span class="hljs-attr">deploy:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span> <span class="hljs-comment">#这里为git</span>
  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://gitee.com/heliufang/heliufang.git</span> <span class="hljs-comment">#仓库的地址,注意属性名称是repo不是repository</span>
  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span> <span class="hljs-comment"># 主分支</span></code></pre>

<p>注意：网络上很多文档写的仓库地址的属性名repository,可能是以前的hexo版本配置。这里被坑到了，导致总是推送不上去。然后去看官方文档才知道仓库地址的属性名称是<code>repo</code>   ╮(╯▽╰)╭</p>
<ul>
<li>hexo推送到gitee</li>
</ul>
<p>先重新生成静态页面</p>
<pre><code class="hljs js">hexo clean
hexo g</code></pre>

<p>推送,输入下面的命名,然后会让你输入gitee的账号密码，完之后不出意外就推送上去了。</p>
<pre><code class="hljs js">hexo d</code></pre>

<p>注意：推送上去之后访问地址为：启动git page服务后分配的地址,比如我的<a href="https://heliufang.gitee.io/">https://heliufang.gitee.io</a></p>
<pre><code class="hljs plaintext">推送后要到gitee的git page页面点击更新按钮,不然看不到最新的页面！！！
推送后要到gitee的git page页面点击更新按钮,不然看不到最新的页面！！！
推送后要到gitee的git page页面点击更新按钮,不然看不到最新的页面！！！
重要的事情说三遍。</code></pre>



<h2 id="5-主题配置"><a href="#5-主题配置" class="headerlink" title="5 主题配置"></a>5 主题配置</h2><p>默认的主题不是特别美观，可以去官网选择合适的主题，然后下载到本地。</p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/themes/">主题官网</a></p>
<p><a target="_blank" rel="noopener" href="https://hexo.bootcss.com/">主题中文官网</a></p>
<p>我用的是这个主题（stun）：<a target="_blank" rel="noopener" href="https://github.com/liuyib/hexo-theme-stun/">https://github.com/liuyib/hexo-theme-stun/</a></p>
<p><a target="_blank" rel="noopener" href="https://theme-stun.github.io/docs/zh-CN/">stun主题文档</a></p>
<p>未完…待有时间再完善这一块</p>
<h2 id="6-写作"><a href="#6-写作" class="headerlink" title="6 写作"></a>6 写作</h2><ul>
<li><p>可以将写好的md文件放入&#x2F;source&#x2F;_post&#x2F;下</p>
</li>
<li><p>也可以通过命令创建。这样就会在&#x2F;source&#x2F;_post&#x2F;下创建md文件以及同名的文件夹</p>
</li>
</ul>
<pre><code class="hljs yml"><span class="hljs-string">hexo</span> <span class="hljs-string">new</span> <span class="hljs-string">&#x27;文章名称&#x27;</span> <span class="hljs-comment">#注意这里不要加后缀</span></code></pre>

<ul>
<li>在md文件的头部加上文章的标题、标签、分类、时间，这样发布后就有相关的信息</li>
</ul>
<pre><code class="hljs yml"><span class="hljs-meta">---</span>
<span class="hljs-attr">title:</span> <span class="hljs-string">利用Hexo+gitee搭建个人博客</span>
<span class="hljs-attr">tags:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">标签1</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">标签2</span>
<span class="hljs-attr">category:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">分类生活</span>
<span class="hljs-attr">date:</span> <span class="hljs-number">2020-12-24 17:55:19</span>
<span class="hljs-meta">---</span></code></pre>

<p>不推荐使用 hexo new 来创建文章。</p>
<p>我一般直接用typora来编写md,然后在md文件的头部加上文章的标题、标签、分类、时间。</p>
<p>在把写好的md文件放入&#x2F;source&#x2F;_post&#x2F;文件夹下</p>
<h2 id="7-参考文献"><a href="#7-参考文献" class="headerlink" title="7 参考文献"></a>7 参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6ae883f9291c">使用Hexo+服务器搭建个人博客</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000018662692">基于Gitee+Hexo搭建个人博客</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f72aaad7b852">HEXO插入图片（详细版)</a></p>

				</div>
		</div>
	</div>
	</div>
	
	<ul class="layui-fixbar"><a id="toTopBtn" href="javascript:void(0)"><li class="layui-icon layui-fixbar-top" lay-type="top" style="display: list-item;"></li></a></ul>
	
	<!-- 底部版权 -->
	<div class="qy-footer">
    <div class="font-Area">
        Copyright © 2018~2022 Heliufang All Rights Reserved
    </div>
</div>

<script>
    //随机背景线条 https://blog.csdn.net/qq526362801/article/details/108863458
    function DynamicLine() {
        function n(n, e, t) {
            return n.getAttribute(e) || t
        }

        function e(n) {
            return document.getElementsByTagName(n)
        }

        function t() {
            var t = e("script"),
                o = t.length,
                i = t[o - 1];
            return {
                l: o,
                z: n(i, "zIndex", -1),
                o: n(i, "opacity", .5),
                c: n(i, "color", "0,0,50"), //颜色rgb
                n: n(i, "count", 99)
            }
        }

        function o() {
            a = m.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                c = m.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
        }

        function i() {
            r.clearRect(0, 0, a, c);
            var n, e, t, o, m, l;
            s.forEach(function (i, x) {
                for (i.x += i.xa, i.y += i.ya, i.xa *= i.x > a || i.x < 0 ? -1 : 1, i.ya *= i.y > c || i.y < 0 ? -1 : 1, r.fillRect(
                    i.x - .5, i.y - .5, 1, 1), e = x + 1; e < u.length; e++) n = u[e],
                        null !== n.x && null !== n.y && (o = i.x - n.x, m = i.y - n.y,
                            l = o * o + m * m, l < n.max && (n === y && l >= n.max / 2 && (i.x -= .03 * o, i.y -= .03 * m),
                                t = (n.max - l) / n.max, r.beginPath(), r.lineWidth = t / 2, r.strokeStyle = "rgba(" + d.c + "," + (t + .2) +
                                ")", r.moveTo(i.x, i.y), r.lineTo(n.x, n.y), r.stroke()))
            }),
                x(i)
        }
        var a, c, u, m = document.createElement("canvas"),
            d = t(),
            l = "c_n" + d.l,
            r = m.getContext("2d"),
            x = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window
                .oRequestAnimationFrame || window.msRequestAnimationFrame ||
                function (n) {
                    window.setTimeout(n, 1e3 / 45)
                },
            w = Math.random,
            y = {
                x: null,
                y: null,
                max: 2e4
            };
        m.id = l, m.style.cssText = "position:fixed;top:0;left:0;z-index:" + d.z + ";opacity:" + d.o, e("body")[0].appendChild(
            m), o(), window.onresize = o,
            window.onmousemove = function (n) {
                n = n || window.event, y.x = n.clientX, y.y = n.clientY
            },
            window.onmouseout = function () {
                y.x = null, y.y = null
            };
        for (var s = [], f = 0; d.n > f; f++) {
            var h = w() * a,
                g = w() * c,
                v = 2 * w() - 1,
                p = 2 * w() - 1;
            s.push({
                x: h,
                y: g,
                xa: v,
                ya: p,
                max: 6e3
            })
        }
        u = s.concat([y]),
            setTimeout(function () {
                i()
            }, 100)
    }
    DynamicLine()
</script>
</body>
<script src="../../../../../js/jquery.min.js"></script>
<script src="../../../../../layui/layui.js"></script>
<script src="../../../../../js/clipboard.min.js"></script>
<script src="../../../../../js/clipboard-use.js"></script>

<script src="../js/mouse.js"></script>

<!-- 谷歌代码高亮 -->
<script type="text/javascript" src="../../../../../lib/google-code-prettify/run_prettify.js"></script>
<script>
	//注意：导航 依赖 element 模块，否则无法进行功能性操作
	var element = null
	var layer = null
	layui.use(['element','layer'], function(){
	  element = layui.element;
	  layer = layui.layer
	});
	
	$(function() { 
	    var elm = $('#toc-area'); 
	    var startPos = $(elm).offset().top; 
		var totalTop = $(document).height(); 
	    $.event.add(window, "scroll", function() { 
	        var p = $(window).scrollTop(); 
			//文章阅读进度条
			var percent = ((p/totalTop)*100).toFixed(2)
			if(percent > 100){
				percent = 100
			}
			if(percent == 0){
				percent = 0
			}
			element.progress('demo', percent+"%");
			$("#progressTxt").text(percent)
			//固定文章目录
	        $(elm).css('position',((p) > startPos) ? 'fixed' : 'static'); 
	        $(elm).css('top',((p) > startPos) ? '60px' : ''); 
	    }); 
		//谷歌代码高亮
		$('pre').addClass('prettyprint').attr('style', 'overflow:auto;');

		let timer = null;
		//点击回到顶部
		//增加scrollTop的动画效果,使用定时器，将scrollTop的值每次减少50(减少六十分之一)，直到减少到0，则动画完毕
		$("#toTopBtn").click(function(){
			var oTop = document.body.scrollTop || document.documentElement.scrollTop;
			var t = parseInt(oTop / 60) //每次六十分之一
			var time = setInterval(function () {
				// document.body.scrollTop = document.body.scrollTop - 50;
				document.body.scrollTop = document.body.scrollTop - t;
				if (document.body.scrollTop === 0) {
					clearInterval(time);
				}
			}, 1);
		})

		
	});
	
</script>
</html>